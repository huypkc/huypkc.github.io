(this["webpackJsonpfram-test"]=this["webpackJsonpfram-test"]||[]).push([[0],{31:function(e,t,n){},34:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var c=n(0),a=n.n(c),s=n(14),r=n.n(s),i=(n(31),n(32),n(16)),l=n(8),o=n(15),j=n(1);function b(){var e=Object(c.useState)(0),t=Object(o.a)(e,2),n=t[0],a=t[1];return Object(j.jsxs)("div",{className:"h-100 d-flex flex-column justify-content-center align-items-center",children:[Object(j.jsx)("h1",{children:n}),Object(j.jsxs)("div",{children:[Object(j.jsx)("button",{className:"btn btn-outline-success me-2 mr-2",type:"button",onClick:function(){return a(n+1)},children:"Increase"}),Object(j.jsx)("button",{className:"btn btn-outline-success me-2 ml-2",type:"button",onClick:function(){return a(0)},children:"Reset"})]})]})}var u=n(7),d="".concat("https://60d30c38858b410017b2ec87.mockapi.io","/users");function h(e){var t=e.page,n=e.numOfPages,c=e.onPageChange,a=new Array(n).fill(1);return Object(j.jsx)("nav",{"aria-label":"Page navigation example",children:Object(j.jsxs)("ul",{className:"pagination",children:[Object(j.jsx)("li",{className:"page-item ".concat(t<1&&"disabled"),children:Object(j.jsx)("button",{className:"page-link","aria-label":"Previous",onClick:function(){return t>0&&c(t-1)},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xab"})})}),a.map((function(e,n){return Object(j.jsx)("li",{className:"page-item ".concat(t===n&&"active"),children:Object(j.jsx)("button",{className:"page-link",onClick:function(){return c(n)},children:n+1})},n)})),Object(j.jsx)("li",{className:"page-item ".concat(t>n-2&&"disabled"),children:Object(j.jsx)("button",{className:"page-link","aria-label":"Next",onClick:function(){return t<n-1&&c(t+1)},children:Object(j.jsx)("span",{"aria-hidden":"true",children:"\xbb"})})})]})})}n(34);var O=n(44),x=n(45),m=n(46);function p(e){var t=e.show,n=e.onClose,a=e.onSubmitted,s=Object(c.useState)({name:"",email:"",position:""}),r=Object(o.a)(s,2),i=r[0],l=r[1],b=Object(c.useState)(!1),h=Object(o.a)(b,2),p=h[0],f=h[1],g=function(e){var t;f(!0),(t=e,fetch(d,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")}))).then((function(){f(!1),n(),a()})).catch((function(){return f(!1)}))};return Object(c.useEffect)((function(){t&&l({name:"",email:"",position:""})}),[t]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(O.a,{show:t,onHide:n,children:[Object(j.jsx)(O.a.Header,{closeButton:!0,children:Object(j.jsx)(O.a.Title,{children:"Employee"})}),Object(j.jsx)(O.a.Body,{children:Object(j.jsxs)(x.a,{children:[Object(j.jsxs)(x.a.Group,{controlId:"formGroupName",children:[Object(j.jsx)(x.a.Label,{children:"Name"}),Object(j.jsx)(x.a.Control,{type:"text",placeholder:"Enter name",value:i.name,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{name:e.target.value}))}})]}),Object(j.jsxs)(x.a.Group,{controlId:"formGroupEmail",children:[Object(j.jsx)(x.a.Label,{children:"Email"}),Object(j.jsx)(x.a.Control,{type:"email",placeholder:"Enter email",value:i.email,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{email:e.target.value}))}})]}),Object(j.jsxs)(x.a.Group,{controlId:"formGroupPosition",children:[Object(j.jsx)(x.a.Label,{children:"Position"}),Object(j.jsx)(x.a.Control,{type:"text",placeholder:"Enter position",value:i.position,onChange:function(e){return l(Object(u.a)(Object(u.a)({},i),{},{position:e.target.value}))}})]})]})}),Object(j.jsxs)(O.a.Footer,{children:[Object(j.jsx)(m.a,{variant:"secondary",onClick:n,children:"Cancel"}),Object(j.jsx)(m.a,{variant:"primary",disabled:p,onClick:function(){return g(i)},children:p?"Creating":"Create"})]})]})})}var f="start fetching",g="fetched successfully",y="fetch failed",N="change page",v={users:{loading:!1,error:null,data:[],page:0}};function C(e,t){switch(t.type){case f:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.users),{},{loading:!0,error:null,data:[],page:0})});case g:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,data:t.payload})});case y:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.users),{},{loading:!1,error:t.payload})});case N:return Object(u.a)(Object(u.a)({},e),{},{users:Object(u.a)(Object(u.a)({},e.users),{},{page:t.payload})});default:return e}}function k(){var e=Object(c.useReducer)(C,v),t=Object(o.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(!1),r=Object(o.a)(s,2),i=r[0],l=r[1],b=n.users,u=b.loading,O=b.error,x=b.data,m=b.page,k=Math.ceil(x.length/5),w=function(){a({type:f}),fetch(d).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){return a({type:g,payload:e})})).catch((function(e){return a({type:y,payload:e})}))};return Object(c.useEffect)(w,[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("h1",{children:"Employees"}),Object(j.jsxs)("table",{className:"table tableList mt-5",children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{children:[Object(j.jsxs)("th",{scope:"col",className:"text-secondary",children:[Object(j.jsx)("i",{className:"fa fa-font","aria-hidden":"true"}),"Name"]}),Object(j.jsxs)("th",{scope:"col",className:"text-secondary",children:[Object(j.jsx)("span",{children:"@"}),"Email"]}),Object(j.jsxs)("th",{scope:"col",className:"text-secondary",children:[Object(j.jsx)("i",{className:"fa fa-indent","aria-hidden":"true"}),"Position"]})]})}),Object(j.jsxs)("tbody",{children:[u?Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:3,className:"text-center",children:Object(j.jsx)("div",{className:"spinner-border text-primary",role:"status"})})}):O?Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:3,className:"text-center text-danger",children:"Can not fetch users. Please try again!"})}):x.slice(5*m,5*m+5).map((function(e){return Object(j.jsxs)("tr",{children:[Object(j.jsx)("td",{children:e.name}),Object(j.jsx)("td",{children:e.email}),Object(j.jsx)("td",{children:e.position})]},e.id)})),Object(j.jsx)("tr",{children:Object(j.jsx)("td",{colSpan:3,children:Object(j.jsxs)("button",{type:"button",className:"btn btn-light text-secondary",onClick:function(){return l(!0)},children:[Object(j.jsx)("i",{className:"fa fa-plus","aria-hidden":"true"})," New"]})})})]})]}),k>0&&Object(j.jsx)(h,{page:m,numOfPages:k,onPageChange:function(e){return a({type:N,payload:e})}}),Object(j.jsx)(p,{show:i,onClose:function(){return l(!1)},onSubmitted:w})]})}function w(){return Object(j.jsx)("nav",{className:"navbar h-100",children:Object(j.jsxs)("form",{className:"container-fluid justify-content-center",children:[Object(j.jsx)(i.b,{to:"/counter",className:"mr-2",children:Object(j.jsx)("button",{className:"btn btn-outline-success me-2",type:"button",children:"Counter"})}),Object(j.jsx)(i.b,{to:"/list",className:"ml-2",children:Object(j.jsx)("button",{className:"btn btn-outline-success me-2",type:"button",children:"List"})})]})})}var S=function(){return Object(j.jsx)("div",{className:"container h-100",children:Object(j.jsx)(i.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/counter",children:Object(j.jsx)(b,{})}),Object(j.jsx)(l.a,{path:"/list",children:Object(j.jsx)(k,{})}),Object(j.jsx)(l.a,{path:"/",children:Object(j.jsx)(w,{})})]})})})},E=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,r=t.getTTFB;n(e),c(e),a(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(S,{})}),document.getElementById("root")),E()}},[[41,1,2]]]);
//# sourceMappingURL=main.fd44db47.chunk.js.map